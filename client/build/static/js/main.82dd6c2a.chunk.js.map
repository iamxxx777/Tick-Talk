{"version":3,"sources":["firebase.js","contexts/authContext.js","components/PrivateRoute.js","components/LoginForm/LoginForm.js","assets/Facebook.svg","components/Providers/Facebook.js","assets/GitHub.svg","components/Providers/Github.js","assets/Google.svg","components/Providers/Google.js","assets/devchallenges-light.svg","pages/Login/Login.js","components/SignupForm/SignupForm.js","pages/Signup/SignUp.js","components/ProfileNav/ProfileNav.js","pages/Profile/Profile.js","components/Loader/Loader.js","assets/error.svg","components/Error/Error.js","pages/Profile/EditProfile.js","components/SideBar/User.js","components/SideBar/SideComponents/ChannelItem.js","components/SideBar/SideComponents/AllChannels.js","components/SideBar/SideComponents/Member.js","components/SideBar/SideComponents/Channel.js","components/SideBar/SideBar.js","components/Message/GroupHeader.js","components/Message/Message.js","components/Message/ChatDay.js","components/MessageForm/MessageForm.js","components/Chats/Chats.js","components/Modal/Modal.js","pages/Chat/ChatsScreen.js","pages/Welcome/WelcomeScreen.js","assets/404.svg","pages/NotFound/NotFound.js","App.js","index.js"],"names":["firebaseConfig","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","measurementId","REACT_APP_FIREBASE_MEASUREMENT_ID","app","firebase","initializeApp","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","socket","io","autoConnect","useEffect","onAuthStateChanged","user","value","basicSignin","email","password","signInWithEmailAndPassword","basicSignup","createUserWithEmailAndPassword","logout","signOut","providerSignIn","provider","signInWithPopup","updateDetails","displayName","photoURL","updateProfile","updateEmail","updatePassword","updatePhoto","updateName","Provider","PrivateRoute","Component","component","rest","render","props","to","LoginForm","history","useHistory","type","message","authError","setError","handleSubmit","e","a","preventDefault","target","push","errorHandler","error","code","className","onSubmit","onChange","name","placeholder","required","Facebook","signUp","FacebookAuthProvider","userAuth","console","log","alert","onClick","src","facebookImage","alt","Github","GithubAuthProvider","githubImage","Google","GoogleAuthProvider","googleImage","Login","Logo","SignupForm","handleChange","password2","field","createdUser","axios","post","data","photo","style","pointerEvents","SignUp","ProfileNav","drop","setDrop","logo","Profile","setUser","get","uid","getUser","bio","phone","Loader","Error","Image","EditProfile","inputRef","useRef","buttonRef","setName","setEmail","setPassword","setPassword2","setBio","setPhone","loadError","setLoadError","formLoading","setFormLoading","promises","setVariables","submitImage","image","formData","FormData","append","_id","cloudId","config","headers","put","url","success","updateUser","handleForm","editData","submitForm","Promise","all","then","catch","finally","response","ref","current","click","files","User","ChannelItem","channel","word","words","split","length","substring","join","AllChannels","close","showModal","channels","map","i","Member","Channel","members","description","member","SideBar","toggle","view","setView","GroupHeader","date","Message","sender","today","Date","todayString","toLocaleString","month","day","year","yesterday","getFullYear","getMonth","getDate","msgDate","createdAt","msgTime","hour","minute","setTime","text","ChatDay","chatMessages","messages","filter","MessageForm","welcomeId","id","useParams","msg","setMsg","sendMessage","connect","currentChannel","emit","maxLength","Chats","base","allDates","uniqueDates","Set","Modal","createChannel","details","backgroundColor","ChatScreen","show","setShow","baseRef","setChannel","setChannels","setMessages","setMembers","modal","setModal","fetchChannels","fetchChannel","useCallback","on","setTimeout","scrollIntoView","behaviour","WelcomeScreen","fetchWelcome","NotFound","App","exact","path","from","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.82dd6c2a.chunk.js","sourcesContent":["import firebase from \"firebase/app\"\r\nimport \"firebase/auth\"\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n};\r\n\r\nconst app = firebase.initializeApp(firebaseConfig);\r\n\r\nexport const auth = app.auth()\r\nexport default app","import React, { useContext, useState, useEffect } from \"react\"\r\nimport io from \"socket.io-client\"\r\nimport { auth } from \"../firebase\"\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport const useAuth = () => {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState()\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const socket = io(\"http://localhost:5000\", {\r\n    autoConnect: false\r\n  });\r\n\r\n  const basicSignup = (email, password) => {\r\n    return auth.createUserWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  const basicSignin = (email, password) => {\r\n    return auth.signInWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  const updateDetails = (displayName, photoURL) => {\r\n    return auth.currentUser.updateProfile({displayName, photoURL});\r\n  }\r\n\r\n  const updatePhoto = (photoURL) => {\r\n    return auth.currentUser.updateProfile({photoURL});\r\n  }\r\n\r\n  const updateName = (displayName) => {\r\n    return auth.currentUser.updateProfile({displayName});\r\n  }\r\n\r\n  const providerSignIn = (provider) => {\r\n      return auth.signInWithPopup(provider)\r\n  }\r\n\r\n  const logout = () => {\r\n    return auth.signOut()\r\n  }\r\n\r\n//   const resetPassword = (email) => {\r\n//     return auth.sendPasswordResetEmail(email)\r\n//   }\r\n\r\n   const updateEmail = (email) => {\r\n    return currentUser.updateEmail(email)\r\n   }\r\n\r\n   const updatePassword = (password) => {\r\n    return currentUser.updatePassword(password)\r\n   }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user)\r\n      setLoading(false)\r\n    })\r\n\r\n    return unsubscribe\r\n  }, [])\r\n\r\n  const value = {\r\n    currentUser,\r\n    socket,\r\n    basicSignin,\r\n    basicSignup,\r\n    logout,\r\n    providerSignIn,\r\n    updateDetails,\r\n    updateEmail,\r\n    updatePassword,\r\n    updatePhoto,\r\n    updateName\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  )\r\n}","import { Route, Redirect } from \"react-router-dom\"\r\nimport { useAuth } from \"../contexts/authContext\"\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n    const { currentUser } = useAuth()\r\n\r\n    return (\r\n        <div>\r\n            <Route\r\n                {...rest}\r\n                render={props => {\r\n                    return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n                }}\r\n            ></Route>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PrivateRoute\r\n","import { useState } from 'react'\r\nimport { useAuth } from \"../../contexts/authContext\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nconst LoginForm = () => {\r\n\r\n    const { basicSignin } = useAuth();\r\n    const history = useHistory();\r\n\r\n    const [authError, setError] = useState({\r\n        type: null,\r\n        message: null\r\n    });\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const email = e.target.email.value;\r\n        const password = e.target.password.value;\r\n\r\n        try {\r\n            await basicSignin(email, password);\r\n            history.push(\"/\");\r\n        } catch (error) {\r\n            errorHandler(error);\r\n        }\r\n\r\n    }\r\n\r\n    const errorHandler = (error) => {\r\n        const code = error.code;\r\n        if(code === 'auth/wrong-password') return setError({type: 'password', message: 'Wrong password!'});\r\n        if(code === 'auth/user-not-found') return setError({type: 'user', message: 'Invalid User!'});\r\n        if(code === 'auth/internal-error') return setError({type: 'firebase', message: 'Something went wrong, try again.'});\r\n\r\n        return;\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"form\">\r\n            <form \r\n                onSubmit={handleSubmit} \r\n                onChange={() => setError({type: null,message: null})}\r\n            >\r\n                {authError.type === 'user' ? <p className=\"error-msg\">*{authError.message}</p> : null}\r\n                <div className=\"form_control\">\r\n                    <label><i className=\"fa fa-envelope\" aria-hidden=\"true\"></i></label>\r\n                    <input type=\"email\" name=\"email\" placeholder=\"Email...\" required />\r\n                </div>\r\n                {authError.type === 'password' ? <p className=\"error-msg\">*{authError.message}</p> : null}\r\n                <div className=\"form_control\">\r\n                    <label><i className=\"fa fa-lock\"></i></label>\r\n                    <input type=\"password\" name=\"password\" placeholder=\"Password...\" required />\r\n                </div>\r\n                {authError.type === 'firebase' ? <p className=\"error-msg\">*{authError.message}</p> : null}\r\n                <button type=\"submit\">Login</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginForm\r\n","export default __webpack_public_path__ + \"static/media/Facebook.1832314e.svg\";","import firebase from \"firebase/app\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { useAuth } from '../../contexts/authContext'\r\n\r\nimport facebookImage from \"../../assets/Facebook.svg\"\r\n\r\nconst Facebook = () => {\r\n\r\n    const { providerSignIn } = useAuth();\r\n    const history = useHistory();\r\n\r\n    const signUp = async () => {\r\n\r\n        const provider = new firebase.auth.FacebookAuthProvider();\r\n        try {\r\n            const userAuth = await providerSignIn(provider);\r\n            console.log(userAuth);\r\n\r\n            // await axios.post(`${process.env.REACT_APP_API_URI}/auth/register`, {\r\n            //     user: userAuth.user,\r\n            // })\r\n            history.push(\"/\");\r\n        } catch (err) {\r\n            if(err.code === 'auth/popup-closed-by-user') return;\r\n            if(err.code === 'auth/cancelled-popup-request') return;\r\n            if(err.code === 'auth/popup-blocked') return alert('Allow popups to log in with this service');\r\n        } \r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <button onClick={signUp}>\r\n                <img src={facebookImage} alt=\"facebook sign in\" />\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Facebook\r\n","export default __webpack_public_path__ + \"static/media/GitHub.f020857c.svg\";","import firebase from \"firebase/app\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { useAuth } from '../../contexts/authContext'\r\n\r\nimport githubImage from \"../../assets/GitHub.svg\"\r\n\r\nconst Github = () => {\r\n\r\n    const { providerSignIn } = useAuth();\r\n    const history = useHistory();\r\n\r\n\r\n    const signUp = async () => {\r\n\r\n        const provider = new firebase.auth.GithubAuthProvider();\r\n        try {\r\n            const userAuth = await providerSignIn(provider);\r\n            console.log(userAuth);\r\n\r\n            // await axios.post(`${process.env.REACT_APP_API_URI}/auth/register`, {\r\n            //     user: userAuth.user,\r\n            // })\r\n            history.push(\"/\");\r\n        } catch (err) {\r\n            if(err.code === 'auth/popup-closed-by-user') return;\r\n            if(err.code === 'auth/cancelled-popup-request') return;\r\n            if(err.code === 'auth/popup-blocked') return alert('Allow popups to log in with this service');\r\n        } \r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <button onClick={signUp}>\r\n                <img src={githubImage} alt=\"github sign in\" />\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Github\r\n","export default __webpack_public_path__ + \"static/media/Google.c10671b3.svg\";","import firebase from \"firebase/app\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { useAuth } from '../../contexts/authContext'\r\n\r\nimport googleImage from \"../../assets/Google.svg\"\r\n\r\nconst Google = () => {\r\n\r\n    const { providerSignIn } = useAuth();\r\n    const history = useHistory();\r\n\r\n    const signUp = async () => {\r\n        const provider = new firebase.auth.GoogleAuthProvider();\r\n        try {\r\n            const userAuth = await providerSignIn(provider);\r\n            console.log(userAuth);\r\n\r\n            // await axios.post(`${process.env.REACT_APP_API_URI}/auth/register`, {\r\n            //     user: userAuth.user,\r\n            // })\r\n            history.push(\"/\");\r\n        } catch (err) {\r\n            if(err.code === 'auth/popup-closed-by-user') return;\r\n            if(err.code === 'auth/cancelled-popup-request') return;\r\n            if(err.code === 'auth/popup-blocked') return alert('Allow popups to log in with this service');\r\n        } \r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <button onClick={signUp}>\r\n                <img src={googleImage} alt=\"google sign in\" />\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Google\r\n","export default __webpack_public_path__ + \"static/media/devchallenges-light.e890e049.svg\";","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport LoginForm from '../../components/LoginForm/LoginForm'\r\nimport Facebook from \"../../components/Providers/Facebook\"\r\nimport Github from \"../../components/Providers/Github\"\r\nimport Google from \"../../components/Providers/Google\"\r\nimport Logo from \"../../assets/devchallenges-light.svg\"\r\n\r\nimport \"./Login.css\"\r\n\r\nconst Login = () => {\r\n    return (\r\n        <div className=\"container login\">\r\n            <section className=\"login_page\">\r\n                <div className=\"signup_logo\">\r\n                    <img src={Logo} alt=\"logo\" />\r\n                </div>\r\n                <h1>Login</h1>\r\n\r\n                <LoginForm />\r\n                \r\n                <div className=\"oauth\">\r\n                    <p>Or continue with this social profiles</p>\r\n\r\n                    <div className=\"auth\">\r\n                        <Google />\r\n                        <Github />\r\n                        <Facebook />\r\n                    </div>\r\n\r\n                    <div className=\"or\">\r\n                        <p>Dont have an account yet? <Link to=\"/register\">Register</Link></p>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import { useState, useEffect } from 'react'\r\nimport { useAuth } from \"../../contexts/authContext\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n\r\nconst SignupForm = () => {\r\n\r\n    const { basicSignup, updateDetails } = useAuth();\r\n    const history = useHistory();\r\n    \r\n    const [authError, setError] = useState({\r\n        type: null,\r\n        message: null\r\n    });\r\n\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleChange = async (e) => {\r\n        setError({\r\n            type: null,\r\n            message: null\r\n        });\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const email = e.target.email.value;\r\n        const name = e.target.name.value;\r\n        const password = e.target.password.value;\r\n        const password2 = e.target.password2.value;\r\n\r\n        if (password !== password2) {\r\n            return errorHandler({field: 'password', code: 'no-match'})\r\n        }\r\n\r\n        try {\r\n            setLoading(true);\r\n            const createdUser = await basicSignup(email, password);\r\n            const { data } = await axios.post(\"/api/profile\", {\r\n                user: createdUser.user,\r\n                name\r\n            });\r\n\r\n            await updateDetails(name, data.photo);\r\n            \r\n            history.push(\"/\");\r\n\r\n            setLoading(false);\r\n        } catch (error) {\r\n            errorHandler(error);\r\n            setLoading(false);\r\n        }\r\n\r\n    }\r\n\r\n    const errorHandler = (error) => {\r\n        const code = error.code;\r\n        if(code === 'auth/weak-password') return setError({type: 'password', message: 'Password should be at least 6 characters'});\r\n        if(code === 'auth/email-already-in-use') return setError({type: 'user', message: 'This mail is already in use!'});\r\n        if(code === 'auth/internal-error') return setError({type: 'firebase', message: 'Something went wrong, try again.'});\r\n        if(code === 'no-match') return setError({ type: error.field, message: 'Passwords do not match.'});\r\n\r\n        return;\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => {}\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"form\">\r\n            <form onSubmit={handleSubmit} onChange={handleChange}>\r\n                {authError.type === 'user' ? <p className=\"error-msg\">* {authError.message}</p> : null}\r\n                <div className=\"form_control\">\r\n                    <label><i className=\"fa fa-envelope\" aria-hidden=\"true\"></i></label>\r\n                    <input type=\"email\" name=\"email\" required placeholder=\"Email...\" />\r\n                </div>\r\n                <div className=\"form_control\">\r\n                    <label><i className=\"fa fa-user\" aria-hidden=\"true\"></i></label>\r\n                    <input type=\"text\" name=\"name\" required placeholder=\"Name...\" />\r\n                </div>\r\n                {authError.type === 'password' ? <p className=\"error-msg\">* {authError.message}</p> : null}\r\n                <div className=\"form_control\">\r\n                    <label><i className=\"fa fa-lock\" aria-hidden=\"true\"></i></label>\r\n                    <input type=\"password\" name=\"password\" required placeholder=\"Password...\" />\r\n                </div>\r\n                {authError.type === 'password2' ? <p className=\"error-msg\">* {authError.message}</p> : null}\r\n                <div className=\"form_control\">\r\n                    <label><i className=\"fa fa-lock\" aria-hidden=\"true\"></i></label>\r\n                    <input type=\"password\" name=\"password2\" required placeholder=\"Confirm Password...\" />\r\n                </div>\r\n                {authError.type === 'firebase' ? <p className=\"error-msg\">* {authError.message}</p> : null}\r\n                <button \r\n                    style={loading ? {pointerEvents: \"none\"} : null} type=\"submit\"\r\n                >{loading ? <i className=\"fa fa-spinner\" aria-hidden=\"true\"></i> : \"SignUp Now\"}</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignupForm\r\n","import { Link } from 'react-router-dom'\r\nimport SignupForm from '../../components/SignupForm/SignupForm'\r\nimport Facebook from \"../../components/Providers/Facebook\"\r\nimport Github from \"../../components/Providers/Github\"\r\nimport Google from \"../../components/Providers/Google\"\r\nimport Logo from \"../../assets/devchallenges-light.svg\"\r\n\r\nimport \"./Signup.css\"\r\n\r\nconst SignUp = () => {\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <section className=\"signup_page\">\r\n                <div className=\"signup_logo\">\r\n                    <img src={Logo} alt=\"logo\" />\r\n                </div>\r\n                <h1>Sign Up to Chatterbox </h1>\r\n                <p>\r\n                    Connect with people from all walks of life and engage in spirited conversations.\r\n                </p>\r\n\r\n                <SignupForm />\r\n\r\n                <div className=\"oauth\">\r\n                    <p>Or continue with this social profiles</p>\r\n\r\n                    <div className=\"auth\">\r\n                        <Google />\r\n                        <Github />\r\n                        <Facebook />\r\n                    </div>\r\n\r\n                    <div className=\"or\">\r\n                        <p>Dont have an account yet? <Link to=\"/login\">Register</Link></p>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignUp\r\n","import { useState } from \"react\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { useAuth } from '../../contexts/authContext'\r\n\r\nimport logo from \"../../assets/devchallenges-light.svg\"\r\n\r\nimport \"./profileNav.css\"\r\n\r\nconst ProfileNav = () => {\r\n\r\n    const history = useHistory();\r\n    const [drop, setDrop] = useState(false);\r\n    const { logout, currentUser } = useAuth();\r\n\r\n    const signOut = async (e) => {\r\n        await logout();\r\n        history.push(\"/login\");\r\n    }\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <nav>\r\n                <div className=\"logo\">\r\n                    <Link to=\"/\">\r\n                        <img src={logo} alt=\"logo\" />\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className=\"nav-user\">\r\n                    <div className=\"user_info\">\r\n                        <img src={currentUser.photoURL} alt=\"user\" />\r\n\r\n                        <div className=\"name\">\r\n                            <h3>{currentUser.displayName}</h3>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"drop\">\r\n                        <button onClick={() => setDrop(!drop)} className={`${drop && \"active\"}`}><i className=\"fa fa-caret-down\" aria-hidden=\"true\"></i></button>\r\n                            {drop && \r\n                                <div className=\"dropdown\">\r\n                                <ul>\r\n                                    <li>\r\n                                        <Link onClick={() => setDrop(false)} to=\"/profile\"><div><i className=\"fa fa-user-circle\" aria-hidden=\"true\"></i> <p>My Profile</p></div></Link>\r\n                                    </li>\r\n                                    <li>\r\n                                        <Link onClick={() => setDrop(false)} to=\"/\"><div><i className=\"fa fa-users\" aria-hidden=\"true\"></i> <p>Group Chat</p></div></Link>\r\n                                    </li>\r\n                                    <hr />\r\n                                    <li className=\"logout\">\r\n                                        <button onClick={signOut}>\r\n                                            <div>\r\n                                                <i className=\"fa fa-sign-out\" aria-hidden=\"true\"></i> \r\n                                                <p>Logout</p>\r\n                                            </div>\r\n                                        </button>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                            }\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n                \r\n        </header>\r\n    )\r\n}\r\n\r\nexport default ProfileNav\r\n","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../../contexts/authContext';\r\nimport ProfileNav from '../../components/ProfileNav/ProfileNav';\r\n\r\nimport \"./Profile.css\"\r\n\r\nconst Profile = () => {\r\n\r\n    const { currentUser } = useAuth();\r\n    const [user, setUser] = useState({});\r\n\r\n    useEffect(() => {\r\n        async function getUser() {\r\n            const { data } = await axios.get(`/api/profile/${currentUser.uid}`);\r\n            setUser(data);\r\n        }\r\n\r\n        getUser();\r\n    }, [currentUser.uid]);\r\n\r\n    return (\r\n        <div className=\"profile-page\">\r\n            <ProfileNav />\r\n\r\n            <main className=\"prof\">\r\n                    <section className=\"profile\">\r\n                        <h1>Personal Info</h1>\r\n                        <h3>Basic info, like your name and photo</h3>\r\n\r\n                        <div className=\"profile_info\">\r\n                            <div className=\"info_head\">\r\n                                <div className=\"left\">\r\n                                    <h2>Profile</h2>\r\n                                    <h4>Some info may be visible to other people</h4>\r\n                                </div>\r\n                                <div className=\"right\">\r\n                                    <Link to=\"/edit\">\r\n                                        <button>Edit</button>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"info\">\r\n                                <div className=\"left\">\r\n                                    <h2>Photo</h2>\r\n                                </div>\r\n                                <div className=\"right\">\r\n                                    <img src={user.photo} alt={user.name} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"info\">\r\n                                <div className=\"left\">\r\n                                    <h2>Name</h2>\r\n                                </div>\r\n                                <div className=\"right\">\r\n                                    <h5>{user.name}</h5>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"info\">\r\n                                <div className=\"left\">\r\n                                    <h2>Bio</h2>\r\n                                </div>\r\n                                <div className=\"right\">\r\n                                    <h5>{user.bio || \"Not specified\"}</h5>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"info\">\r\n                                <div className=\"left\">\r\n                                    <h2>Email</h2>\r\n                                </div>\r\n                                <div className=\"right\">\r\n                                    <h5>{user.email}</h5>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"info\">\r\n                                <div className=\"left\">\r\n                                    <h2>Phone</h2>\r\n                                </div>\r\n                                <div className=\"right\">\r\n                                    <h5>{user.phone || \"Not Specified\"}</h5>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"info\">\r\n                                <div className=\"left\">\r\n                                    <h2>Password</h2>\r\n                                </div>\r\n                                <div className=\"right\">\r\n                                    <h5>*********</h5>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","// Author: Martin van Driel;\r\nimport \"./Loader.css\"\r\nconst Loader = () => {\r\n    return (\r\n        <div className=\"loader\">\r\n            <div className=\"loader-item\">\r\n                <div className=\"inner one\"></div>\r\n                <div className=\"inner two\"></div>\r\n                <div className=\"inner three\"></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader\r\n","export default __webpack_public_path__ + \"static/media/error.a46ab9e6.svg\";","import \"./Error.css\"\r\nimport Image from \"../../assets/error.svg\"\r\n\r\nconst Error = () => {\r\n    return (\r\n        <div className=\"err_container\">\r\n            <div className=\"err_page\">\r\n                <div className='err-text'>\r\n                    <h2>Server Error</h2>\r\n                    <h4>This dosen't happen often</h4>\r\n                    <p>\r\n                    This is usually a result of faulty wireless connection or a blip in the server,\r\n                    please try refreshing your browser.\r\n                    </p>\r\n                </div>\r\n                <div className=\"err-image\">\r\n                    <img src={Image} alt=\"404 error\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default Error","import { useState, useEffect, useRef } from \"react\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n//import { toast } from 'react-toastify'\r\nimport { useAuth } from \"../../contexts/authContext\"\r\n\r\nimport ProfileNav from \"../../components/ProfileNav/ProfileNav\"\r\nimport Loader from \"../../components/Loader/Loader\"\r\nimport Error from \"../../components/Error/Error\"\r\n\r\nimport \"./Edit.css\"\r\n\r\n\r\nconst EditProfile = () => {\r\n\r\n    const history = useHistory();\r\n    const inputRef = useRef(null);\r\n    const buttonRef = useRef(null);\r\n    const { currentUser, updateEmail, updatePassword, updatePhoto, updateName } = useAuth();\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [password2, setPassword2] = useState(\"\");\r\n    const [bio, setBio] = useState(\"\");\r\n    const [phone, setPhone] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [loadError, setLoadError] = useState(false);\r\n    const [user, setUser] = useState({});\r\n    const [loading, setLoading] = useState(false);\r\n    const [formLoading, setFormLoading] = useState(false);\r\n\r\n    var promises = [];\r\n\r\n\r\n    const setVariables = (data) => {\r\n        setName(data.name);\r\n        setEmail(data.email);\r\n\r\n        if(data.phone) {\r\n            setPhone(data.phone);\r\n        }\r\n        if(data.bio) {\r\n            setBio(data.bio);\r\n        }\r\n    }\r\n\r\n\r\n    const submitImage = async (image) => {\r\n        try {\r\n            let formData = new FormData();\r\n            formData.append(\"image\", image);\r\n            formData.append('id', user._id);\r\n            if(user.cloudId) {\r\n                formData.append(\"cloudId\", user.cloudId);\r\n            }\r\n\r\n            const config = {\r\n                headers: {\r\n                    'content-type': 'multipart/form-data'\r\n                }\r\n            };\r\n\r\n            const { data } = await axios.put(\"/api/profile/image\", formData, config);\r\n\r\n            await updatePhoto(data.url);\r\n\r\n            if(data.success) {\r\n                await updateUser();\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error(error);\r\n            setError('Error uploading image, please select again');\r\n        }\r\n    }\r\n\r\n    const handleForm = async (editData) => {\r\n        const { data } = await axios.put(`/api/profile/${user._id}`, editData);\r\n        return data;\r\n    } \r\n\r\n    const submitForm = async (e) => {\r\n        e.preventDefault();\r\n\r\n        try {\r\n\r\n            if(password) {\r\n                if (password !== password2) {\r\n                    setError(\"passwords do not match\");\r\n                } else {\r\n                    promises.push(updatePassword(password));\r\n                }\r\n            }\r\n\r\n            if(email !== currentUser.email) {\r\n                promises.push(updateEmail(email));\r\n            }\r\n\r\n            if(name !== currentUser.displayName) {\r\n                promises.push(updateName(name));\r\n            }\r\n\r\n            const data = { name, email, bio, phone };\r\n\r\n            promises.push(handleForm(data));\r\n\r\n            setFormLoading(true);\r\n\r\n            Promise.all(promises)\r\n                    .then(() => {\r\n                        history.push(\"/profile\")\r\n                    })\r\n                    .catch(() => {\r\n                        setError(\"Failed to update account\")\r\n                    })\r\n                    .finally(() => {\r\n                        setFormLoading(false)\r\n                    });\r\n\r\n        } catch (error) {\r\n            setError(error.response.data.error);\r\n            setFormLoading(false);\r\n        }\r\n        \r\n    }\r\n\r\n    // When user clicks on the button, open the input file tag\r\n    const handleInput = () => {\r\n        inputRef.current.click();\r\n        setError(\"\");\r\n    }\r\n\r\n    // Submit the file and clear data\r\n    const handleChange = (e) => {\r\n        var type = e.target.files[0].type;\r\n\r\n        if(type !== \"image/jpeg\" && type !== \"image/jpg\" && type !== \"image/png\") {\r\n            setError(\"file must be either jpeg, jpg or png\");\r\n        } else {\r\n            submitImage(e.target.files[0]);\r\n        }\r\n        e.target.value = \"\";\r\n    }\r\n    \r\n    const updateUser = async () => {\r\n        const { data } = await axios.get(`/api/profile/${currentUser.uid}`);\r\n        setUser(data);\r\n        setVariables(data);\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function getUser() {\r\n            try {\r\n                setLoading(true)\r\n                const { data } = await axios.get(`/api/profile/${currentUser.uid}`);\r\n                setUser(data);\r\n                setVariables(data);\r\n                setLoading(false)\r\n            } catch (error) {\r\n                setLoading(false)\r\n                setLoadError(true)\r\n            }\r\n        }\r\n\r\n        getUser()\r\n    }, [currentUser.uid]);\r\n\r\n\r\n    return (\r\n        <div className=\"profile-page\">\r\n            {\r\n                loading ? <Loader /> :\r\n                loadError ? <Error /> :\r\n                <>\r\n                    <ProfileNav />\r\n\r\n                    <main className=\"prof\">\r\n        \r\n                        <Link to=\"/profile\">\r\n                            <div className=\"back\">\r\n                                <i className=\"fa fa-chevron-left\" aria-hidden=\"true\"></i>\r\n                                <span>Back</span>\r\n                            </div>\r\n                        </Link>\r\n\r\n                        <section className=\"profile_edit\">\r\n                            <h1>Change Info</h1>\r\n                            <h3>Changes will be reflected to every services</h3>\r\n                            <div className=\"profile_info\">\r\n                                <form onSubmit={(e) => e.preventDefault()} className=\"image\">\r\n                                    <div className=\"form_img\">\r\n                                        <div className=\"form_img_div\">\r\n                                            <img src={user.photo} alt={user.name} />\r\n                                            <button ref={buttonRef} onClick={handleInput} ><i className=\"fa fa-camera\" aria-hidden=\"true\"></i></button>\r\n                                            <input ref={inputRef} onChange={handleChange} type=\"file\" name=\"image\" />\r\n                                        </div>\r\n                                        <div className=\"img_text\">\r\n                                            <p>Change Photo</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n\r\n                                <form onSubmit={(e) => submitForm(e)} className=\"form\">\r\n                                    {error && (<small>{error}</small>)}\r\n                                    <div className=\"form_control\">\r\n                                        <label>Name</label>\r\n                                        <input \r\n                                            value={name}\r\n                                            onChange={(e) => setName(e.target.value)}\r\n                                            type=\"text\" name=\"name\" placeholder=\"Enter your name...\" />\r\n                                    </div>\r\n\r\n                                    <div className=\"form_control\">\r\n                                        <label>Bio</label>\r\n                                        <textarea \r\n                                            value={bio}\r\n                                            onChange={(e) => setBio(e.target.value)}\r\n                                            type=\"text\" name=\"bio\" placeholder=\"Enter your bio...\"></textarea>\r\n                                    </div>\r\n\r\n                                    <div className=\"form_control\">\r\n                                        <label>Phone</label>\r\n                                        <input \r\n                                            value={phone}\r\n                                            onChange={(e) => setPhone(e.target.value)}\r\n                                            type=\"text\" name=\"phone\" placeholder=\"Enter your phone number...\" />\r\n                                    </div>\r\n\r\n                                    <div className=\"form_control\">\r\n                                        <label>Email</label>\r\n                                        <input \r\n                                            value={email}\r\n                                            onChange={(e) => setEmail(e.target.value)}\r\n                                            type=\"email\" name=\"email\" placeholder=\"Enter your email...\" />\r\n                                    </div>\r\n                                    \r\n                                    <div className=\"form_control\">\r\n                                        <label>Password</label>\r\n                                        <input \r\n                                            value={password}\r\n                                            onChange={(e) => setPassword(e.target.value)}\r\n                                            type=\"password\" name=\"password\" placeholder=\"Leave blank to keep the same\" />\r\n                                    </div>\r\n\r\n                                    <div className=\"form_control\">\r\n                                        <label>Confirm Password</label>\r\n                                        <input \r\n                                            value={password2}\r\n                                            onChange={(e) => setPassword2(e.target.value)}\r\n                                            type=\"password\" name=\"password2\" placeholder=\"Leave blank to keep the same\" />\r\n                                    </div>\r\n\r\n                                    <button type=\"submit\" \r\n                                        style={formLoading ? {pointerEvents: \"none\"} : null}>\r\n                                        {formLoading ? <i className=\"fa fa-spinner\" aria-hidden=\"true\"></i> : \"Submit\"}\r\n                                    </button>\r\n                                </form>\r\n                            </div>\r\n                        </section>\r\n                    </main>\r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditProfile\r\n","import { useState } from 'react'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport { useAuth } from '../../contexts/authContext'\r\n\r\nimport \"./user.css\"\r\n\r\nconst User = () => {\r\n\r\n    const [drop, setDrop] = useState(false);\r\n    const { logout, currentUser } = useAuth();\r\n    const history = useHistory();\r\n\r\n    const signOut = async () => {\r\n        await logout();\r\n        history.push(\"login\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"side-user\">\r\n            <div className=\"user\">\r\n                <div className=\"user_info\">\r\n                    <img src={currentUser.photoURL} alt=\"user\" />\r\n\r\n                    <div className=\"name\">\r\n                        <h3>{currentUser.displayName}</h3>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"drop\">\r\n                    <button onClick={() => setDrop(!drop)} className={`${drop && \"active\"}`}><i className=\"fa fa-caret-down\" aria-hidden=\"true\"></i></button>\r\n                        <div className={`dropdown ${drop && \"drop-show\"}`}>\r\n                            <ul>\r\n                                <li>\r\n                                    <Link onClick={() => setDrop(false)} to=\"/profile\"><div><i className=\"fa fa-user-circle\" aria-hidden=\"true\"></i> <p>My Profile</p></div></Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link onClick={() => setDrop(false)} to=\"/\"><div><i className=\"fa fa-users\" aria-hidden=\"true\"></i> <p>Group Chat</p></div></Link>\r\n                                </li>\r\n                                <hr />\r\n                                <li className=\"logout\">\r\n                                    <button onClick={signOut}>\r\n                                        <div>\r\n                                            <i className=\"fa fa-sign-out\" aria-hidden=\"true\"></i> \r\n                                            <p>Logout</p>\r\n                                        </div>\r\n                                    </button>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User\r\n","import { Link } from 'react-router-dom'\r\n\r\nconst ChannelItem = ({ channel, click }) => {\r\n\r\n    const logo = (word) => {\r\n        let words = word.split(\" \");\r\n        let initials;\r\n        if (words.length >= 2) {\r\n            initials = [words[0].substring(0,1), words[1].substring(0,1)].join(\"\");    \r\n        } else {\r\n            initials = words[0].substring(0,1);\r\n        }\r\n        return initials;\r\n    }\r\n\r\n    return (\r\n        <button onClick={click} >\r\n           <Link to={channel._id === process.env.REACT_APP_WELCOME_ID ? \"/\" : `/channels/${channel._id}`} className=\"channel-item\">\r\n               <div>{logo(channel.name)}</div>\r\n               <h3>{channel.name}</h3>\r\n           </Link>  \r\n        </button>\r\n        \r\n    )\r\n}\r\n\r\nexport default ChannelItem\r\n","import ChannelItem from './ChannelItem'\r\n\r\nimport \"./allChannels.css\"\r\n\r\nconst AllChannels = ({ click, close, showModal, channels }) => {\r\n\r\n    const disableForm = {\r\n        pointerEvents: \"none\"\r\n    }\r\n\r\n    return (\r\n        <div className=\"all-channels\">\r\n            <div className=\"channels-head\">\r\n                <h2>Channels</h2>\r\n                <div className=\"channels-head-buttons\">\r\n                    <button onClick={showModal}><i className=\"fa fa-plus\" aria-hidden=\"true\"></i></button>\r\n                    <button className=\"side-close\" onClick={close}>x</button>\r\n                </div>\r\n            </div>\r\n            <div className=\"channels\">\r\n                <form onSubmit={(e) => e.preventDefault()}>\r\n                    <input style={disableForm} type=\"text\" name=\"search\" placeholder=\"search...\" required />\r\n                    <button><i className=\"fa fa-search\" aria-hidden=\"true\"></i></button>\r\n                </form>\r\n                <div className=\"channels-list\">\r\n                    {channels.map((channel, i) => <ChannelItem key={i} click={click} channel={channel} />)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AllChannels","const Member = ({data}) => {\r\n    return (\r\n        <div className=\"channel-member\">\r\n            <img src={data.photo} alt={data.name} />\r\n            <h3>{data.name}</h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Member\r\n","import Member from \"./Member\"\r\n\r\nimport \"./channel.css\"\r\n\r\nconst Channel = ({ click, close, members, channel }) => {\r\n    return (\r\n        <div className=\"channel\">\r\n            <div className=\"channel-head\">\r\n                <div className=\"channel-head-main\">\r\n                    <button onClick={click}><i className=\"fa fa-chevron-left\" aria-hidden=\"true\"></i></button>\r\n                    <h2>All channels</h2>\r\n                </div>\r\n                <button className=\"side-close\" onClick={close}>x</button>\r\n            </div>\r\n            <div className=\"channel-info\">\r\n                <div className=\"channel-about\">\r\n                    <h1>{channel.name}</h1>\r\n                    <p>{channel.description}</p>\r\n                </div>\r\n                <div className=\"channel-members\">\r\n                    <h2>Members</h2>\r\n                    <div className=\"members\">\r\n                        {members.map((member, i) => <Member key={i} data={member} />)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Channel\r\n","import { useState } from 'react'\r\n\r\n// Components\r\nimport User from \"./User\"\r\nimport AllChannels from './SideComponents/AllChannels'\r\nimport Channel from './SideComponents/Channel'\r\n\r\nimport \"./SideBar.css\"\r\n\r\nconst SideBar = ({ toggle, close, channels, members, channel, showModal }) => {\r\n\r\n    const [view, setView] = useState(true);\r\n\r\n    return (\r\n        <div className={`sidebar ${toggle && \"show-sidebar\"}`}>\r\n            <div className=\"side-container\">\r\n                {!view && <AllChannels channels={channels} close={close} click={() => setView(view)} showModal={showModal} />}\r\n                {view && <Channel members={members} channel={channel} close={close} click={() => setView(!view)} />}\r\n            </div>\r\n            <User />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SideBar\r\n","import \"./Message.css\"\r\n\r\nconst GroupHeader = ({ date }) => {\r\n\r\n    return (\r\n        <div className=\"group-head\">\r\n            <div className=\"line\"></div>\r\n            <div className=\"group-day\">{date}</div>\r\n            <div className=\"line\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GroupHeader\r\n","import \"./Message.css\"\r\n\r\nconst Message = ({ message }) => {\r\n\r\n    const setTime = () => {\r\n        const today = new Date()\r\n        const todayString = today.toLocaleString('en-US', {month:\"short\",day:\"numeric\", year:\"numeric\"})\r\n        const yesterday = new Date(today.getFullYear(), today.getMonth(), today.getDate()-1).toLocaleString('en-US', {month:\"short\",day:\"numeric\", year:\"numeric\"})\r\n        const msgDate = new Date(message.createdAt).toLocaleString('en-US', {month:\"short\",day:\"numeric\", year:\"numeric\"})\r\n        const msgTime = new Date(message.createdAt).toLocaleString('en-US', {hour:'numeric', minute:'numeric'})\r\n\r\n        var str = \"\";\r\n        if(todayString === msgDate) {\r\n           str = \"today at \" + msgTime\r\n        } else if (yesterday === msgDate) {\r\n           str = \"yesterday at \" + msgTime\r\n        } else {\r\n            str = new Date(message.createdAt).toLocaleString('en-US', {month:\"short\",day:\"numeric\"}) + \" at \" + msgTime\r\n        }\r\n\r\n        return str;\r\n\r\n    }\r\n    \r\n\r\n    return (\r\n        <div className=\"chat-message\">\r\n            <div className=\"chat-img\">\r\n                <img src={message.sender.photo} alt={message.sender.name} />\r\n            </div>\r\n            <div className=\"chat-info\">\r\n                <div className=\"chat-head\">\r\n                    <h3>{message.sender.name}</h3>\r\n                    <h4>{setTime()}</h4>\r\n                </div>\r\n                <div className=\"chat-body\">\r\n                    <p>{message.text}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message\r\n","import GroupHeader from \"./GroupHeader\"\r\nimport Message from \"./Message\"\r\n\r\nimport \"./Message.css\"\r\n\r\nconst ChatDay = ({ date, messages }) => {\r\n\r\n    const chatMessages = messages.filter((message) => new Date(message.createdAt).toLocaleString('en-US', {month:\"short\",day:\"numeric\", year:\"numeric\"}) === date)\r\n\r\n    return (\r\n        <div className=\"chat-day\">\r\n            <GroupHeader date={date} />\r\n            {chatMessages.map((message) => (\r\n                <Message key={message._id} message={message} />\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatDay\r\n","import { useState } from 'react'\r\nimport { useParams } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\nimport { useAuth } from \"../../contexts/authContext\"\r\n\r\nimport \"./MessageForm.css\"\r\n\r\nconst MessageForm = ({ welcomeId }) => {\r\n\r\n    const { id } = useParams()\r\n    const { socket, currentUser } = useAuth()\r\n\r\n    const [msg, setMsg] = useState(\"\")\r\n    const [error, setError] = useState(\"\")\r\n    const [loading, setLoading] = useState(\"\")\r\n\r\n    const sendMessage = async (e) => {\r\n        e.preventDefault()\r\n        socket.connect()\r\n        try {\r\n            setLoading(true)\r\n            const message = { uid: currentUser.uid, currentChannel: welcomeId ? welcomeId : id, msg }\r\n            const { data } = await axios.post(\"/api/messages\", message)\r\n            socket.emit(\"message\", {channel: data.message.channel, message: data.message})\r\n\r\n            if(data.user) socket.emit(\"new user\", {channel: data.message.channel, user: data.user})\r\n\r\n            setMsg(\"\")\r\n            setLoading(false)\r\n        } catch (error) {\r\n            setLoading(false)\r\n            setError(\"Error sending msg\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"message-form\">\r\n            <form className=\"new-message\" onSubmit={sendMessage} onChange={() => setError(\"\")}>\r\n                {error && <small>{error}</small>}\r\n                <textarea \r\n                    value={msg}\r\n                    onChange={(e) => setMsg(e.target.value)}\r\n                    placeholder=\"Type a message here\" \r\n                    maxLength={250}\r\n                ></textarea>\r\n                <button type=\"submit\">\r\n                    {loading ? \r\n                        <i className=\"fa fa-spinner spin\" aria-hidden=\"true\"></i> : \r\n                        <i className=\"fa fa-paper-plane\" aria-hidden=\"true\"></i>\r\n                    }\r\n                </button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageForm\r\n","import ChatDay from \"../Message/ChatDay\"\r\nimport MessageForm from \"../MessageForm/MessageForm\"\r\n\r\nimport \"./Chats.css\"\r\n\r\nconst Chats = ({ toggle, messages, name, base, welcomeId }) => {\r\n\r\n    const allDates = messages.map((message) => new Date(message.createdAt).toLocaleString('en-US', {month:\"short\",day:\"numeric\", year:\"numeric\"}))\r\n    const uniqueDates = [...new Set(allDates)]\r\n\r\n\r\n    return (\r\n        <div className=\"chats\">\r\n            <div className=\"chats-container\">\r\n                <div className=\"chats-head\">\r\n                    <button onClick={toggle}><i className=\"fa fa-bars\" aria-hidden=\"true\"></i></button>\r\n                    <h2>{name}</h2>\r\n                </div>      \r\n                <div className=\"chat-box\">\r\n                    <div className=\"chat-container\">\r\n                        {uniqueDates.map((date, i) => (\r\n                            <ChatDay key={i} date={date} messages={messages} />\r\n                        ))}\r\n                        \r\n                        <div ref={base}></div>\r\n                    </div>\r\n                </div>\r\n                <MessageForm welcomeId={welcomeId} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chats\r\n","import { useState } from 'react'\r\nimport axios from \"axios\"\r\nimport { useAuth } from \"../../contexts/authContext\"\r\n\r\nimport \"./Modal.css\"\r\n\r\nconst Modal = ({click}) => {\r\n\r\n    const { currentUser, socket } = useAuth();\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n    \r\n    const createChannel = async (e) => {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            const details = {\r\n                name: e.target.name.value,\r\n                description: e.target.description.value,\r\n                uid: currentUser.uid\r\n            }\r\n\r\n            setLoading(true);\r\n            socket.connect();\r\n            const { data } = await axios.post(\"/api/channels\", details);\r\n            socket.emit(\"created channel\", data);\r\n\r\n            setLoading(false);\r\n            click();\r\n        } catch (error) {\r\n            console.error(error);\r\n            setLoading(false);\r\n            setError(\"Error creating channel, please try again\");\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"modal\">\r\n            <div className=\"modal-container\">\r\n                <h2>New Channel</h2>\r\n                <form onChange={() => setError(\"\")} onSubmit={createChannel}>\r\n                    {error && <small>{error}</small>}\r\n                    <div className=\"modal-group\">\r\n                        <input type=\"text\" name=\"name\" placeholder=\"Channel name\" />\r\n                    </div>\r\n                    <div className=\"modal-group\">\r\n                        <textarea name=\"description\" placeholder=\"Channel description\"></textarea>\r\n                    </div>\r\n                    <div className=\"modal-buttons\">\r\n                        <button \r\n                            onClick={click}\r\n                            style={loading ? {pointerEvents: \"none\", backgroundColor: \"gray\"} : null}\r\n                            className=\"modal-cancel\">Cancel</button>\r\n                        <button \r\n                            style={loading ? {pointerEvents: \"none\", backgroundColor: \"gray\"} : null}\r\n                            className=\"modal-submit\" type=\"submit\">Submit</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Modal\r\n","import { useEffect, useState, useRef, useCallback } from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\nimport { useAuth } from \"../../contexts/authContext\"\r\n\r\nimport SideBar from '../../components/SideBar/SideBar'\r\nimport Chats from '../../components/Chats/Chats'\r\nimport Modal from '../../components/Modal/Modal'\r\nimport Loader from \"../../components/Loader/Loader\"\r\nimport Error from \"../../components/Error/Error\"\r\n\r\nimport \"./ChatsScreen.css\"\r\n\r\nconst ChatScreen = () => {\r\n    const [show, setShow] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(false);\r\n    const baseRef = useRef(null);\r\n\r\n    const { id } = useParams();\r\n    const { socket } = useAuth();\r\n    const [channel, setChannel] = useState({});\r\n    const [channels, setChannels] = useState([]);\r\n    const [messages, setMessages] = useState([]);\r\n    const [members, setMembers] = useState([]);\r\n    const [modal, setModal] = useState(false);\r\n\r\n    const fetchChannels = async () => {\r\n        try {\r\n            setLoading(true)\r\n            const { data } = await axios.get(\"/api/channels\");\r\n            setChannels(data);\r\n        } catch (error) {\r\n            setError(true)\r\n        }\r\n        \r\n    }\r\n\r\n    const fetchChannel = useCallback(async () => {\r\n        try {\r\n            const { data } = await axios.get(`/api/channels/${id}`)\r\n            setChannel(data)\r\n            setMessages(data.messages)\r\n            setMembers(data.members)\r\n            setLoading(false)\r\n        } catch (error) {\r\n            setError(true)\r\n        }\r\n    }, [id]);\r\n\r\n    useEffect(() => {\r\n        socket.on('created channel', (channel) => {\r\n            setChannels([...channels, channel]);\r\n        });\r\n    }, [channels, socket]);\r\n\r\n    useEffect(() => {\r\n        socket.on('message', (message) => {\r\n            setMessages([...messages, message]);\r\n        });\r\n\r\n        setTimeout(() => {\r\n            baseRef.current && baseRef.current.scrollIntoView({behaviour: \"smooth\"});\r\n        }, 100);\r\n\r\n        return () => {};\r\n    }, [messages, socket]);\r\n\r\n    useEffect(() => {\r\n        socket.on('new user', (user) => {\r\n            setMembers([...members, user])\r\n        })\r\n    }, [members, socket])\r\n\r\n    useEffect(() => {\r\n        socket.connect();\r\n        socket.emit('join channel', id);\r\n        return () => {\r\n            socket.emit('leave channel', id);\r\n        };\r\n    }, [id, socket]);\r\n\r\n\r\n    useEffect(() => {\r\n        fetchChannels()\r\n        fetchChannel()\r\n    }, [fetchChannel]);\r\n\r\n\r\n    const showModal = () => {\r\n        setModal(true);\r\n    }\r\n\r\n    return (\r\n        <div className=\"chat-screen\">\r\n            {loading ? <Loader /> : \r\n                error ? <Error /> :\r\n                <>\r\n                    <div className=\"chat\">\r\n                        <SideBar channels={channels} channel={channel} members={members} close={() => setShow(false)} toggle={show} showModal={showModal} />\r\n                        <Chats messages={messages} name={channel?.name} base={baseRef} toggle={() => setShow(true)} />\r\n                    </div>\r\n                    {modal && <Modal click={() => setModal(false)} />}\r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatScreen\r\n","import { useEffect, useState, useRef, useCallback } from \"react\"\r\nimport axios from \"axios\"\r\nimport { useAuth } from \"../../contexts/authContext\"\r\n\r\nimport SideBar from '../../components/SideBar/SideBar'\r\nimport Chats from '../../components/Chats/Chats'\r\nimport Modal from '../../components/Modal/Modal'\r\nimport Loader from \"../../components/Loader/Loader\"\r\nimport Error from \"../../components/Error/Error\"\r\n\r\n\r\nimport \"../Chat/ChatsScreen.css\"\r\n\r\nconst WelcomeScreen = () => {\r\n    const [show, setShow] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(false);\r\n\r\n    const baseRef = useRef(null);\r\n\r\n    const welcomeId = process.env.REACT_APP_WELCOME_ID;\r\n\r\n    const { socket } = useAuth();\r\n    const [channel, setChannel] = useState({});\r\n    const [channels, setChannels] = useState([]);\r\n    const [messages, setMessages] = useState([]);\r\n    const [members, setMembers] = useState([]);\r\n    const [modal, setModal] = useState(false);\r\n\r\n    const fetchChannels = async () => {\r\n        try {\r\n            setLoading(true)\r\n            const { data } = await axios.get(\"/api/channels\")\r\n            setChannels(data)\r\n        } catch (error) {\r\n            setError(true)\r\n        }\r\n    }\r\n\r\n    const fetchWelcome = useCallback(async () => {\r\n        try {\r\n            const { data } = await axios.get(`/api/channels/${welcomeId}`);\r\n            setChannel(data)\r\n            setMessages(data.messages)\r\n            setMembers(data.members)\r\n            setLoading(false)\r\n        } catch (error) {\r\n            setError(true)\r\n        }\r\n        \r\n    }, [welcomeId]);\r\n\r\n    useEffect(() => {\r\n        socket.on('created channel', (channel) => {\r\n            setChannels([...channels, channel]);\r\n        });\r\n\r\n        return () => {};\r\n    }, [channels, socket]);\r\n\r\n\r\n    useEffect(() => {\r\n        socket.on('message', (message) => {\r\n            setMessages([...messages, message]);\r\n        });\r\n\r\n        setTimeout(() => {\r\n            baseRef.current && baseRef.current.scrollIntoView({behaviour: \"smooth\"});\r\n        }, 100);\r\n\r\n        return () => {};\r\n    }, [messages, socket]);\r\n\r\n    useEffect(() => {\r\n        socket.on('new user', (user) => {\r\n            setMembers([...members, user])\r\n        })\r\n    }, [members, socket])\r\n\r\n    useEffect(() => {\r\n        socket.connect();\r\n        socket.emit('join channel', welcomeId);\r\n        return () => {\r\n            socket.emit('leave channel', welcomeId);\r\n        };\r\n    }, [socket, welcomeId]);\r\n\r\n\r\n    useEffect(() => {\r\n        fetchChannels()\r\n        fetchWelcome()\r\n    }, [fetchWelcome]);\r\n\r\n    const showModal = () => {\r\n        setModal(true);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"chat-screen\">\r\n            {loading ? <Loader /> : \r\n                error ? <Error /> :\r\n                <>\r\n                    <div className=\"chat\">\r\n                        <SideBar channels={channels} channel={channel} members={members} close={() => setShow(false)} toggle={show} showModal={showModal} />\r\n                        <Chats messages={messages} name={channel?.name} welcomeId={welcomeId} base={baseRef} toggle={() => setShow(true)} />\r\n                    </div>\r\n                    {modal && <Modal click={() => setModal(false)} />}\r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WelcomeScreen\r\n","export default __webpack_public_path__ + \"static/media/404.45997a96.svg\";","import { Link } from \"react-router-dom\"\r\nimport Image from \"../../assets/404.svg\"\r\nimport \"./notFound.css\"\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div className=\"notFound_container\">\r\n            <div className=\"notFound-page\">\r\n                <div className='err-text'>\r\n                    <h2>404 Not Found</h2>\r\n                    <h4>This doesn't happen often</h4>\r\n                    <p>\r\n                    We try our best to avoid this kind of occurence. The page you are trying to find does not exist or has been removed by the administrator.\r\n                    Click <Link to=\"/\">here</Link> to go to the homepage.\r\n                    </p>\r\n                </div>\r\n                <div className=\"notfound-image\">\r\n                    <img src={Image} alt=\"404 Not found\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound","import { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\"\nimport { AuthProvider } from \"./contexts/authContext\"\n\nimport './App.css';\n\nimport PrivateRoute from \"./components/PrivateRoute\";\n\nimport Login from \"./pages/Login/Login\"\nimport SignUp from \"./pages/Signup/SignUp\"\nimport Profile from \"./pages/Profile/Profile\";\nimport EditProfile from \"./pages/Profile/EditProfile\";\nimport ChatScreen from \"./pages/Chat/ChatsScreen\";\nimport WelcomeScreen from \"./pages/Welcome/WelcomeScreen\";\nimport NotFound from \"./pages/NotFound/NotFound\"\n\n\nfunction App() {\n\n  return (\n    <Router>\n      <AuthProvider>\n        <div className=\"App\">\n          <Switch>\n            <PrivateRoute exact path=\"/\" component={WelcomeScreen} />\n            <PrivateRoute path=\"/edit\" component={EditProfile} />\n            <PrivateRoute path=\"/channels/:id\" component={ChatScreen} />\n            <PrivateRoute path=\"/profile\" component={Profile} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/register\" component={SignUp} />\n            <Route path=\"/404\" component={NotFound} />\n            <Redirect from=\"*\" to=\"/404\" />\n          </Switch>\n        </div>\n      </AuthProvider>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}